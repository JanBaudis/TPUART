<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TPUART: shell.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TPUART
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('shell_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">shell.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implements a basic "shell" to communicate with the TPUART/KNX and Debug things. Data sheet KNX EIB TP-UART 2+ page 22 and following.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="shell_8h_source.html">shell.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for shell.c:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c__incl.jpg" border="0" usemap="#shell_8c" alt=""/></div>
<map name="shell_8c" id="shell_8c">
<area shape="rect" id="node2" href="shell_8h.html" title="Corresponding header&#45;File. " alt="" coords="141,80,201,107"/>
<area shape="rect" id="node3" href="usart__driver_8h.html" title="XMEGA USART driver header file. " alt="" coords="83,229,182,256"/>
<area shape="rect" id="node4" href="avr__compiler_8h.html" title="This file implements some macros that makes the IAR C&#45;compiler and avr&#45;gcc work with the same code ba..." alt="" coords="80,304,185,331"/>
<area shape="rect" id="node8" href="_u_a_r_t_8h.html" title="This File contains the Macros and so to use the Interrupt driven USART Driver provided by Atmel..." alt="" coords="175,155,242,181"/>
</map>
</div>
</div>
<p><a href="shell_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3197713442e02b97406567e4a11e193f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shell_8c.html#a3197713442e02b97406567e4a11e193f">enter_shell</a> (<a class="el" href="usart__driver_8h.html#a884c38d38327b0d4263c03cf0d84031e">USART_data_t</a> *USART_data)</td></tr>
<tr class="memdesc:a3197713442e02b97406567e4a11e193f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter the "Shell".  <a href="#a3197713442e02b97406567e4a11e193f">More...</a><br /></td></tr>
<tr class="separator:a3197713442e02b97406567e4a11e193f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8aa91cc93dc57699d69cf98e7244d64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shell_8c.html#ab8aa91cc93dc57699d69cf98e7244d64">reset_request</a> (void)</td></tr>
<tr class="memdesc:ab8aa91cc93dc57699d69cf98e7244d64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shell-Function for the U_reset.request-Service.  <a href="#ab8aa91cc93dc57699d69cf98e7244d64">More...</a><br /></td></tr>
<tr class="separator:ab8aa91cc93dc57699d69cf98e7244d64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7bbbb940671ab75e317fb9e82e956d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shell_8c.html#a7e7bbbb940671ab75e317fb9e82e956d">state_request</a> (void)</td></tr>
<tr class="memdesc:a7e7bbbb940671ab75e317fb9e82e956d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shell-Function for the U_state.request-Service.  <a href="#a7e7bbbb940671ab75e317fb9e82e956d">More...</a><br /></td></tr>
<tr class="separator:a7e7bbbb940671ab75e317fb9e82e956d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad95c9c45c97cc744ca49a98494bf9465"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shell_8c.html#ad95c9c45c97cc744ca49a98494bf9465">act_busmon</a> (void)</td></tr>
<tr class="memdesc:ad95c9c45c97cc744ca49a98494bf9465"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shell-Function for the U_ActivateBusmon-Service.  <a href="#ad95c9c45c97cc744ca49a98494bf9465">More...</a><br /></td></tr>
<tr class="separator:ad95c9c45c97cc744ca49a98494bf9465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef27926c3ebc8dc98a95df932af53a06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shell_8c.html#aef27926c3ebc8dc98a95df932af53a06">prod_request</a> (void)</td></tr>
<tr class="memdesc:aef27926c3ebc8dc98a95df932af53a06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shell-Function for the U_ProductID.request-Service.  <a href="#aef27926c3ebc8dc98a95df932af53a06">More...</a><br /></td></tr>
<tr class="separator:aef27926c3ebc8dc98a95df932af53a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c364cd022ec191bccd57afa8aae1e89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shell_8c.html#a5c364cd022ec191bccd57afa8aae1e89">act_busymode</a> (void)</td></tr>
<tr class="memdesc:a5c364cd022ec191bccd57afa8aae1e89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shell-Function for the U_ActivateBusyMode.  <a href="#a5c364cd022ec191bccd57afa8aae1e89">More...</a><br /></td></tr>
<tr class="separator:a5c364cd022ec191bccd57afa8aae1e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8c0b097293b84111d06c0ceabb8dd71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shell_8c.html#ac8c0b097293b84111d06c0ceabb8dd71">res_busymode</a> (void)</td></tr>
<tr class="memdesc:ac8c0b097293b84111d06c0ceabb8dd71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shell-Function for the U_ResetBusyMode.  <a href="#ac8c0b097293b84111d06c0ceabb8dd71">More...</a><br /></td></tr>
<tr class="separator:ac8c0b097293b84111d06c0ceabb8dd71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b8d781bfecf89fac5ce63dabd3be2ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shell_8c.html#a3b8d781bfecf89fac5ce63dabd3be2ae">setaddress</a> (void)</td></tr>
<tr class="memdesc:a3b8d781bfecf89fac5ce63dabd3be2ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shell-Function for the U_SetAddress.  <a href="#a3b8d781bfecf89fac5ce63dabd3be2ae">More...</a><br /></td></tr>
<tr class="separator:a3b8d781bfecf89fac5ce63dabd3be2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b264b3bfe53d649c5b7653cfd97033d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shell_8c.html#a7b264b3bfe53d649c5b7653cfd97033d">ackInfo</a> (void)</td></tr>
<tr class="memdesc:a7b264b3bfe53d649c5b7653cfd97033d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shell-Function for the U_AckInformation-Service.  <a href="#a7b264b3bfe53d649c5b7653cfd97033d">More...</a><br /></td></tr>
<tr class="separator:a7b264b3bfe53d649c5b7653cfd97033d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd8340ade32d7f467cf3b625bd06ba31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shell_8c.html#acd8340ade32d7f467cf3b625bd06ba31">shell_help</a> (void)</td></tr>
<tr class="separator:acd8340ade32d7f467cf3b625bd06ba31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a37fd7702e47867237a1617ae4b4fab85"><td class="memItemLeft" align="right" valign="top">int volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shell_8c.html#a37fd7702e47867237a1617ae4b4fab85">ret_pressed</a></td></tr>
<tr class="separator:a37fd7702e47867237a1617ae4b4fab85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68426a3f72e0fa2063f5140143c60965"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shell_8c.html#a68426a3f72e0fa2063f5140143c60965">command</a> [33]</td></tr>
<tr class="separator:a68426a3f72e0fa2063f5140143c60965"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements a basic "shell" to communicate with the TPUART/KNX and Debug things. Data sheet KNX EIB TP-UART 2+ page 22 and following. </p>
<dl class="section author"><dt>Author</dt><dd>Jan Baudis </dd></dl>
<dl class="section date"><dt>Date</dt><dd>03.12.2016 01:01:54 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Buffer Size in the <a class="el" href="usart__driver_8h.html" title="XMEGA USART driver header file. ">usart_driver.h</a> has to be changed if the commands are too big - it only evaluates the received string when enter is pressed. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Maybe disable RX for the PC while working on a command! </dd></dl>

<p>Definition in file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a7b264b3bfe53d649c5b7653cfd97033d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b264b3bfe53d649c5b7653cfd97033d">&sect;&nbsp;</a></span>ackInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ackInfo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shell-Function for the U_AckInformation-Service. </p>
<p>Sends the U_AckInformation to the TPUART. This must be sent latest 2,8ms after receiving the address type octet of an addressed frame. Its used to evaluate the Address on the Host side. More on p. 25 ff off the TPUART 2+ Data sheet.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>Implement this as a feature for receiving Frames in general. Since it only makes sense if its send after 2,8ms of an addressed frame. Look up if it can set more than one Flag! - Maybe its also important to implement for the Bus-Sniffer</dd></dl>

<p>Definition at line <a class="el" href="shell_8c_source.html#l00454">454</a> of file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>

<p>References <a class="el" href="shell_8c_source.html#l00013">command</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00148">receive_string_from_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00011">ret_pressed</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00107">send_string_pgm_to_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00129">send_string_to_usart()</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00029">USART_DATA_PC</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00028">USART_DATA_TP</a>, <a class="el" href="usart__driver_8h_source.html#l00067">USART_RX_BUFFER_SIZE</a>, and <a class="el" href="usart__driver_8c_source.html#l00143">USART_TXBuffer_PutByte()</a>.</p>

<p>Referenced by <a class="el" href="shell_8c_source.html#l00022">enter_shell()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_a7b264b3bfe53d649c5b7653cfd97033d_cgraph.jpg" border="0" usemap="#shell_8c_a7b264b3bfe53d649c5b7653cfd97033d_cgraph" alt=""/></div>
<map name="shell_8c_a7b264b3bfe53d649c5b7653cfd97033d_cgraph" id="shell_8c_a7b264b3bfe53d649c5b7653cfd97033d_cgraph">
<area shape="rect" id="node2" href="_u_a_r_t_8c.html#abae42fc5d4a757188ac79c5d6ecf34be" title="This Method reads out the data of the RingBuffer and returns a string. " alt="" coords="116,121,249,163"/>
<area shape="rect" id="node3" href="_u_a_r_t_8c.html#ad7bb1da26c447116e627aef512f5fc84" title="This Method uses the Program Space for e.g. Debug Strings and sends them to the given USART..." alt="" coords="316,5,455,47"/>
<area shape="rect" id="node4" href="usart__driver_8c.html#ac6a0c12350c501c1b8189aca778f5129" title="Put data (5&#45;8 bit character). " alt="" coords="521,187,695,214"/>
<area shape="rect" id="node8" href="_u_a_r_t_8c.html#a190114969cf3d32ab5e83509d7ab1569" title="This Method sends Strings to the given USART. " alt="" coords="314,187,457,214"/>
<area shape="rect" id="node6" href="usart__driver_8c.html#ac65d5461255def6cd49b05a88d5aa411" title="Test if there is data in the receive software buffer. " alt="" coords="311,71,459,112"/>
<area shape="rect" id="node7" href="usart__driver_8c.html#a36cca099e37ec451e52efebe4c60180e" title="Get received data (5&#45;8 bit character). " alt="" coords="297,137,473,163"/>
<area shape="rect" id="node5" href="usart__driver_8c.html#aecbd49900666abf476cf5cce10fb372a" title="Test if there is data in the transmitter software buffer. " alt="" coords="743,187,932,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_a7b264b3bfe53d649c5b7653cfd97033d_icgraph.jpg" border="0" usemap="#shell_8c_a7b264b3bfe53d649c5b7653cfd97033d_icgraph" alt=""/></div>
<map name="shell_8c_a7b264b3bfe53d649c5b7653cfd97033d_icgraph" id="shell_8c_a7b264b3bfe53d649c5b7653cfd97033d_icgraph">
<area shape="rect" id="node2" href="shell_8h.html#a3197713442e02b97406567e4a11e193f" title="Enter the &quot;Shell&quot;. " alt="" coords="116,5,201,32"/>
<area shape="rect" id="node3" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="This is the main&#45;Function. " alt="" coords="249,5,300,32"/>
</map>
</div>

</div>
</div>
<a id="ad95c9c45c97cc744ca49a98494bf9465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad95c9c45c97cc744ca49a98494bf9465">&sect;&nbsp;</a></span>act_busmon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void act_busmon </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shell-Function for the U_ActivateBusmon-Service. </p>
<p>Sends the U_ActivateBusmon to the TPUART and prints the Output as bits to the PC. Listens till it receives any Key from the PC. Then it Resets the Chip since its the Only way to quit the Busmon-Mode of the TPUART.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Implement an end of Packet detection to print out some useful Information for the Bits.</dd></dl>

<p>Definition at line <a class="el" href="shell_8c_source.html#l00175">175</a> of file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>

<p>References <a class="el" href="shell_8c_source.html#l00013">command</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00198">flush_USART_RXBuffer()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00148">receive_string_from_usart()</a>, <a class="el" href="shell_8c_source.html#l00089">reset_request()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00107">send_string_pgm_to_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00129">send_string_to_usart()</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00029">USART_DATA_PC</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00028">USART_DATA_TP</a>, <a class="el" href="usart__driver_8h_source.html#l00067">USART_RX_BUFFER_SIZE</a>, <a class="el" href="usart__driver_8c_source.html#l00181">USART_RXBufferData_Available()</a>, and <a class="el" href="usart__driver_8c_source.html#l00143">USART_TXBuffer_PutByte()</a>.</p>

<p>Referenced by <a class="el" href="shell_8c_source.html#l00022">enter_shell()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_ad95c9c45c97cc744ca49a98494bf9465_cgraph.jpg" border="0" usemap="#shell_8c_ad95c9c45c97cc744ca49a98494bf9465_cgraph" alt=""/></div>
<map name="shell_8c_ad95c9c45c97cc744ca49a98494bf9465_cgraph" id="shell_8c_ad95c9c45c97cc744ca49a98494bf9465_cgraph">
<area shape="rect" id="node2" href="_u_a_r_t_8c.html#a6c34e7e2146aab25f22bf042eae221ac" title="This Method flushs the RX Buffer. " alt="" coords="296,288,451,315"/>
<area shape="rect" id="node3" href="_u_a_r_t_8c.html#ad7bb1da26c447116e627aef512f5fc84" title="This Method uses the Program Space for e.g. Debug Strings and sends them to the given USART..." alt="" coords="517,164,656,205"/>
<area shape="rect" id="node4" href="usart__driver_8c.html#ac6a0c12350c501c1b8189aca778f5129" title="Put data (5&#45;8 bit character). " alt="" coords="723,44,896,71"/>
<area shape="rect" id="node6" href="usart__driver_8c.html#ac65d5461255def6cd49b05a88d5aa411" title="Test if there is data in the receive software buffer. " alt="" coords="513,281,661,322"/>
<area shape="rect" id="node8" href="_u_a_r_t_8c.html#abae42fc5d4a757188ac79c5d6ecf34be" title="This Method reads out the data of the RingBuffer and returns a string. " alt="" coords="307,222,440,264"/>
<area shape="rect" id="node9" href="_u_a_r_t_8c.html#a190114969cf3d32ab5e83509d7ab1569" title="This Method sends Strings to the given USART. " alt="" coords="515,70,658,96"/>
<area shape="rect" id="node10" href="shell_8c.html#ab8aa91cc93dc57699d69cf98e7244d64" title="Shell&#45;Function for the U_reset.request&#45;Service. " alt="" coords="147,120,248,147"/>
<area shape="rect" id="node7" href="usart__driver_8c.html#a36cca099e37ec451e52efebe4c60180e" title="Get received data (5&#45;8 bit character). " alt="" coords="499,230,675,256"/>
<area shape="rect" id="node5" href="usart__driver_8c.html#aecbd49900666abf476cf5cce10fb372a" title="Test if there is data in the transmitter software buffer. " alt="" coords="944,44,1133,71"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_ad95c9c45c97cc744ca49a98494bf9465_icgraph.jpg" border="0" usemap="#shell_8c_ad95c9c45c97cc744ca49a98494bf9465_icgraph" alt=""/></div>
<map name="shell_8c_ad95c9c45c97cc744ca49a98494bf9465_icgraph" id="shell_8c_ad95c9c45c97cc744ca49a98494bf9465_icgraph">
<area shape="rect" id="node2" href="shell_8h.html#a3197713442e02b97406567e4a11e193f" title="Enter the &quot;Shell&quot;. " alt="" coords="147,5,232,32"/>
<area shape="rect" id="node3" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="This is the main&#45;Function. " alt="" coords="280,5,331,32"/>
</map>
</div>

</div>
</div>
<a id="a5c364cd022ec191bccd57afa8aae1e89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c364cd022ec191bccd57afa8aae1e89">&sect;&nbsp;</a></span>act_busymode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void act_busymode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shell-Function for the U_ActivateBusyMode. </p>
<p>Sends the U_ActivateBusyMode to the TPUART. TP-UART responses on every Packet which is addressed to him with BUSY within 700ms (+-10ms). All Packets are send to the Host and if the Host confirms one with U_Ackinfo it will leave BusyMode as well when reseted.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>May add something; Dunno like a Listen Mode for 700ms; </dd></dl>

<p>Definition at line <a class="el" href="shell_8c_source.html#l00268">268</a> of file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>

<p>References <a class="el" href="shell_8c_source.html#l00013">command</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00107">send_string_pgm_to_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00129">send_string_to_usart()</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00029">USART_DATA_PC</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00028">USART_DATA_TP</a>, and <a class="el" href="usart__driver_8c_source.html#l00143">USART_TXBuffer_PutByte()</a>.</p>

<p>Referenced by <a class="el" href="shell_8c_source.html#l00022">enter_shell()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_a5c364cd022ec191bccd57afa8aae1e89_cgraph.jpg" border="0" usemap="#shell_8c_a5c364cd022ec191bccd57afa8aae1e89_cgraph" alt=""/></div>
<map name="shell_8c_a5c364cd022ec191bccd57afa8aae1e89_cgraph" id="shell_8c_a5c364cd022ec191bccd57afa8aae1e89_cgraph">
<area shape="rect" id="node2" href="_u_a_r_t_8c.html#ad7bb1da26c447116e627aef512f5fc84" title="This Method uses the Program Space for e.g. Debug Strings and sends them to the given USART..." alt="" coords="162,5,301,47"/>
<area shape="rect" id="node3" href="usart__driver_8c.html#ac6a0c12350c501c1b8189aca778f5129" title="Put data (5&#45;8 bit character). " alt="" coords="351,71,524,98"/>
<area shape="rect" id="node5" href="_u_a_r_t_8c.html#a190114969cf3d32ab5e83509d7ab1569" title="This Method sends Strings to the given USART. " alt="" coords="160,122,303,149"/>
<area shape="rect" id="node4" href="usart__driver_8c.html#aecbd49900666abf476cf5cce10fb372a" title="Test if there is data in the transmitter software buffer. " alt="" coords="572,71,761,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_a5c364cd022ec191bccd57afa8aae1e89_icgraph.jpg" border="0" usemap="#shell_8c_a5c364cd022ec191bccd57afa8aae1e89_icgraph" alt=""/></div>
<map name="shell_8c_a5c364cd022ec191bccd57afa8aae1e89_icgraph" id="shell_8c_a5c364cd022ec191bccd57afa8aae1e89_icgraph">
<area shape="rect" id="node2" href="shell_8h.html#a3197713442e02b97406567e4a11e193f" title="Enter the &quot;Shell&quot;. " alt="" coords="160,5,245,32"/>
<area shape="rect" id="node3" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="This is the main&#45;Function. " alt="" coords="293,5,344,32"/>
</map>
</div>

</div>
</div>
<a id="a3197713442e02b97406567e4a11e193f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3197713442e02b97406567e4a11e193f">&sect;&nbsp;</a></span>enter_shell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void enter_shell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usart__driver_8h.html#a884c38d38327b0d4263c03cf0d84031e">USART_data_t</a> *&#160;</td>
          <td class="paramname"><em>USART_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enter the "Shell". </p>
<p>In the "Shell" we can e.g. use the Services of the TPUART</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">USART_data</td><td>The USART_data_t struct instance. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="shell_8c_source.html#l00022">22</a> of file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>

<p>References <a class="el" href="shell_8c_source.html#l00454">ackInfo()</a>, <a class="el" href="shell_8c_source.html#l00175">act_busmon()</a>, <a class="el" href="shell_8c_source.html#l00268">act_busymode()</a>, <a class="el" href="shell_8c_source.html#l00013">command</a>, <a class="el" href="shell_8c_source.html#l00224">prod_request()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00148">receive_string_from_usart()</a>, <a class="el" href="shell_8c_source.html#l00292">res_busymode()</a>, <a class="el" href="shell_8c_source.html#l00089">reset_request()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00011">ret_pressed</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00107">send_string_pgm_to_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00129">send_string_to_usart()</a>, <a class="el" href="shell_8c_source.html#l00322">setaddress()</a>, <a class="el" href="shell_8c_source.html#l00507">shell_help()</a>, <a class="el" href="shell_8c_source.html#l00131">state_request()</a>, and <a class="el" href="_u_a_r_t_8h_source.html#l00029">USART_DATA_PC</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00029">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_a3197713442e02b97406567e4a11e193f_cgraph.jpg" border="0" usemap="#shell_8c_a3197713442e02b97406567e4a11e193f_cgraph" alt=""/></div>
<map name="shell_8c_a3197713442e02b97406567e4a11e193f_cgraph" id="shell_8c_a3197713442e02b97406567e4a11e193f_cgraph">
<area shape="rect" id="node2" href="shell_8c.html#a7b264b3bfe53d649c5b7653cfd97033d" title="Shell&#45;Function for the U_AckInformation&#45;Service. " alt="" coords="299,565,362,592"/>
<area shape="rect" id="node3" href="_u_a_r_t_8c.html#abae42fc5d4a757188ac79c5d6ecf34be" title="This Method reads out the data of the RingBuffer and returns a string. " alt="" coords="440,398,573,439"/>
<area shape="rect" id="node4" href="_u_a_r_t_8c.html#ad7bb1da26c447116e627aef512f5fc84" title="This Method uses the Program Space for e.g. Debug Strings and sends them to the given USART..." alt="" coords="651,609,789,650"/>
<area shape="rect" id="node9" href="_u_a_r_t_8c.html#a190114969cf3d32ab5e83509d7ab1569" title="This Method sends Strings to the given USART. " alt="" coords="649,844,791,871"/>
<area shape="rect" id="node10" href="shell_8c.html#ad95c9c45c97cc744ca49a98494bf9465" title="Shell&#45;Function for the U_ActivateBusmon&#45;Service. " alt="" coords="139,275,232,301"/>
<area shape="rect" id="node12" href="shell_8c.html#ab8aa91cc93dc57699d69cf98e7244d64" title="Shell&#45;Function for the U_reset.request&#45;Service. " alt="" coords="280,300,381,327"/>
<area shape="rect" id="node13" href="shell_8c.html#a5c364cd022ec191bccd57afa8aae1e89" title="Shell&#45;Function for the U_ActivateBusyMode. " alt="" coords="453,1123,560,1149"/>
<area shape="rect" id="node14" href="shell_8c.html#aef27926c3ebc8dc98a95df932af53a06" title="Shell&#45;Function for the U_ProductID.request&#45;Service. " alt="" coords="282,1021,379,1048"/>
<area shape="rect" id="node15" href="shell_8c.html#ac8c0b097293b84111d06c0ceabb8dd71" title="Shell&#45;Function for the U_ResetBusyMode. " alt="" coords="453,1021,560,1048"/>
<area shape="rect" id="node16" href="shell_8c.html#a3b8d781bfecf89fac5ce63dabd3be2ae" title="Shell&#45;Function for the U_SetAddress. " alt="" coords="287,920,374,947"/>
<area shape="rect" id="node17" href="shell_8c.html#acd8340ade32d7f467cf3b625bd06ba31" title="shell_help" alt="" coords="467,869,547,896"/>
<area shape="rect" id="node18" href="shell_8c.html#a7e7bbbb940671ab75e317fb9e82e956d" title="Shell&#45;Function for the U_state.request&#45;Service. " alt="" coords="280,464,381,491"/>
<area shape="rect" id="node5" href="usart__driver_8c.html#ac6a0c12350c501c1b8189aca778f5129" title="Put data (5&#45;8 bit character). " alt="" coords="856,717,1029,744"/>
<area shape="rect" id="node7" href="usart__driver_8c.html#ac65d5461255def6cd49b05a88d5aa411" title="Test if there is data in the receive software buffer. " alt="" coords="646,187,794,229"/>
<area shape="rect" id="node8" href="usart__driver_8c.html#a36cca099e37ec451e52efebe4c60180e" title="Get received data (5&#45;8 bit character). " alt="" coords="632,329,808,356"/>
<area shape="rect" id="node6" href="usart__driver_8c.html#aecbd49900666abf476cf5cce10fb372a" title="Test if there is data in the transmitter software buffer. " alt="" coords="1077,717,1267,744"/>
<area shape="rect" id="node11" href="_u_a_r_t_8c.html#a6c34e7e2146aab25f22bf042eae221ac" title="This Method flushs the RX Buffer. " alt="" coords="429,195,584,221"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_a3197713442e02b97406567e4a11e193f_icgraph.jpg" border="0" usemap="#shell_8c_a3197713442e02b97406567e4a11e193f_icgraph" alt=""/></div>
<map name="shell_8c_a3197713442e02b97406567e4a11e193f_icgraph" id="shell_8c_a3197713442e02b97406567e4a11e193f_icgraph">
<area shape="rect" id="node2" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="This is the main&#45;Function. " alt="" coords="139,5,189,32"/>
</map>
</div>

</div>
</div>
<a id="aef27926c3ebc8dc98a95df932af53a06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef27926c3ebc8dc98a95df932af53a06">&sect;&nbsp;</a></span>prod_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prod_request </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shell-Function for the U_ProductID.request-Service. </p>
<p>Sends the U_ProductID.request to the TPUART and prints the Output as bits to the PC </p>

<p>Definition at line <a class="el" href="shell_8c_source.html#l00224">224</a> of file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>

<p>References <a class="el" href="shell_8c_source.html#l00013">command</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00148">receive_string_from_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00107">send_string_pgm_to_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00129">send_string_to_usart()</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00029">USART_DATA_PC</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00028">USART_DATA_TP</a>, <a class="el" href="usart__driver_8h_source.html#l00067">USART_RX_BUFFER_SIZE</a>, and <a class="el" href="usart__driver_8c_source.html#l00143">USART_TXBuffer_PutByte()</a>.</p>

<p>Referenced by <a class="el" href="shell_8c_source.html#l00022">enter_shell()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_aef27926c3ebc8dc98a95df932af53a06_cgraph.jpg" border="0" usemap="#shell_8c_aef27926c3ebc8dc98a95df932af53a06_cgraph" alt=""/></div>
<map name="shell_8c_aef27926c3ebc8dc98a95df932af53a06_cgraph" id="shell_8c_aef27926c3ebc8dc98a95df932af53a06_cgraph">
<area shape="rect" id="node2" href="_u_a_r_t_8c.html#abae42fc5d4a757188ac79c5d6ecf34be" title="This Method reads out the data of the RingBuffer and returns a string. " alt="" coords="151,121,284,163"/>
<area shape="rect" id="node3" href="_u_a_r_t_8c.html#ad7bb1da26c447116e627aef512f5fc84" title="This Method uses the Program Space for e.g. Debug Strings and sends them to the given USART..." alt="" coords="351,5,489,47"/>
<area shape="rect" id="node4" href="usart__driver_8c.html#ac6a0c12350c501c1b8189aca778f5129" title="Put data (5&#45;8 bit character). " alt="" coords="556,187,729,214"/>
<area shape="rect" id="node8" href="_u_a_r_t_8c.html#a190114969cf3d32ab5e83509d7ab1569" title="This Method sends Strings to the given USART. " alt="" coords="349,187,491,214"/>
<area shape="rect" id="node6" href="usart__driver_8c.html#ac65d5461255def6cd49b05a88d5aa411" title="Test if there is data in the receive software buffer. " alt="" coords="346,71,494,112"/>
<area shape="rect" id="node7" href="usart__driver_8c.html#a36cca099e37ec451e52efebe4c60180e" title="Get received data (5&#45;8 bit character). " alt="" coords="332,137,508,163"/>
<area shape="rect" id="node5" href="usart__driver_8c.html#aecbd49900666abf476cf5cce10fb372a" title="Test if there is data in the transmitter software buffer. " alt="" coords="777,187,967,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_aef27926c3ebc8dc98a95df932af53a06_icgraph.jpg" border="0" usemap="#shell_8c_aef27926c3ebc8dc98a95df932af53a06_icgraph" alt=""/></div>
<map name="shell_8c_aef27926c3ebc8dc98a95df932af53a06_icgraph" id="shell_8c_aef27926c3ebc8dc98a95df932af53a06_icgraph">
<area shape="rect" id="node2" href="shell_8h.html#a3197713442e02b97406567e4a11e193f" title="Enter the &quot;Shell&quot;. " alt="" coords="151,5,236,32"/>
<area shape="rect" id="node3" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="This is the main&#45;Function. " alt="" coords="284,5,335,32"/>
</map>
</div>

</div>
</div>
<a id="ac8c0b097293b84111d06c0ceabb8dd71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8c0b097293b84111d06c0ceabb8dd71">&sect;&nbsp;</a></span>res_busymode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void res_busymode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shell-Function for the U_ResetBusyMode. </p>
<p>Sends the U_ResetBusyMode to the TPUART. So the TPUART immediately leaves the BUSY Mode. </p>

<p>Definition at line <a class="el" href="shell_8c_source.html#l00292">292</a> of file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>

<p>References <a class="el" href="shell_8c_source.html#l00013">command</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00107">send_string_pgm_to_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00129">send_string_to_usart()</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00029">USART_DATA_PC</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00028">USART_DATA_TP</a>, and <a class="el" href="usart__driver_8c_source.html#l00143">USART_TXBuffer_PutByte()</a>.</p>

<p>Referenced by <a class="el" href="shell_8c_source.html#l00022">enter_shell()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_ac8c0b097293b84111d06c0ceabb8dd71_cgraph.jpg" border="0" usemap="#shell_8c_ac8c0b097293b84111d06c0ceabb8dd71_cgraph" alt=""/></div>
<map name="shell_8c_ac8c0b097293b84111d06c0ceabb8dd71_cgraph" id="shell_8c_ac8c0b097293b84111d06c0ceabb8dd71_cgraph">
<area shape="rect" id="node2" href="_u_a_r_t_8c.html#ad7bb1da26c447116e627aef512f5fc84" title="This Method uses the Program Space for e.g. Debug Strings and sends them to the given USART..." alt="" coords="162,5,301,47"/>
<area shape="rect" id="node3" href="usart__driver_8c.html#ac6a0c12350c501c1b8189aca778f5129" title="Put data (5&#45;8 bit character). " alt="" coords="351,71,524,98"/>
<area shape="rect" id="node5" href="_u_a_r_t_8c.html#a190114969cf3d32ab5e83509d7ab1569" title="This Method sends Strings to the given USART. " alt="" coords="160,122,303,149"/>
<area shape="rect" id="node4" href="usart__driver_8c.html#aecbd49900666abf476cf5cce10fb372a" title="Test if there is data in the transmitter software buffer. " alt="" coords="572,71,761,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_ac8c0b097293b84111d06c0ceabb8dd71_icgraph.jpg" border="0" usemap="#shell_8c_ac8c0b097293b84111d06c0ceabb8dd71_icgraph" alt=""/></div>
<map name="shell_8c_ac8c0b097293b84111d06c0ceabb8dd71_icgraph" id="shell_8c_ac8c0b097293b84111d06c0ceabb8dd71_icgraph">
<area shape="rect" id="node2" href="shell_8h.html#a3197713442e02b97406567e4a11e193f" title="Enter the &quot;Shell&quot;. " alt="" coords="160,5,245,32"/>
<area shape="rect" id="node3" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="This is the main&#45;Function. " alt="" coords="293,5,344,32"/>
</map>
</div>

</div>
</div>
<a id="ab8aa91cc93dc57699d69cf98e7244d64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8aa91cc93dc57699d69cf98e7244d64">&sect;&nbsp;</a></span>reset_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_request </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shell-Function for the U_reset.request-Service. </p>
<p>Sends the U_reset.request to the TPUART and prints the Output as bits to the PC </p>

<p>Definition at line <a class="el" href="shell_8c_source.html#l00089">89</a> of file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>

<p>References <a class="el" href="shell_8c_source.html#l00013">command</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00148">receive_string_from_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00107">send_string_pgm_to_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00129">send_string_to_usart()</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00029">USART_DATA_PC</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00028">USART_DATA_TP</a>, <a class="el" href="usart__driver_8h_source.html#l00067">USART_RX_BUFFER_SIZE</a>, and <a class="el" href="usart__driver_8c_source.html#l00143">USART_TXBuffer_PutByte()</a>.</p>

<p>Referenced by <a class="el" href="shell_8c_source.html#l00175">act_busmon()</a>, and <a class="el" href="shell_8c_source.html#l00022">enter_shell()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_ab8aa91cc93dc57699d69cf98e7244d64_cgraph.jpg" border="0" usemap="#shell_8c_ab8aa91cc93dc57699d69cf98e7244d64_cgraph" alt=""/></div>
<map name="shell_8c_ab8aa91cc93dc57699d69cf98e7244d64_cgraph" id="shell_8c_ab8aa91cc93dc57699d69cf98e7244d64_cgraph">
<area shape="rect" id="node2" href="_u_a_r_t_8c.html#abae42fc5d4a757188ac79c5d6ecf34be" title="This Method reads out the data of the RingBuffer and returns a string. " alt="" coords="155,121,288,163"/>
<area shape="rect" id="node3" href="_u_a_r_t_8c.html#ad7bb1da26c447116e627aef512f5fc84" title="This Method uses the Program Space for e.g. Debug Strings and sends them to the given USART..." alt="" coords="355,5,493,47"/>
<area shape="rect" id="node4" href="usart__driver_8c.html#ac6a0c12350c501c1b8189aca778f5129" title="Put data (5&#45;8 bit character). " alt="" coords="560,187,733,214"/>
<area shape="rect" id="node8" href="_u_a_r_t_8c.html#a190114969cf3d32ab5e83509d7ab1569" title="This Method sends Strings to the given USART. " alt="" coords="353,187,495,214"/>
<area shape="rect" id="node6" href="usart__driver_8c.html#ac65d5461255def6cd49b05a88d5aa411" title="Test if there is data in the receive software buffer. " alt="" coords="350,71,498,112"/>
<area shape="rect" id="node7" href="usart__driver_8c.html#a36cca099e37ec451e52efebe4c60180e" title="Get received data (5&#45;8 bit character). " alt="" coords="336,137,512,163"/>
<area shape="rect" id="node5" href="usart__driver_8c.html#aecbd49900666abf476cf5cce10fb372a" title="Test if there is data in the transmitter software buffer. " alt="" coords="781,187,971,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_ab8aa91cc93dc57699d69cf98e7244d64_icgraph.jpg" border="0" usemap="#shell_8c_ab8aa91cc93dc57699d69cf98e7244d64_icgraph" alt=""/></div>
<map name="shell_8c_ab8aa91cc93dc57699d69cf98e7244d64_icgraph" id="shell_8c_ab8aa91cc93dc57699d69cf98e7244d64_icgraph">
<area shape="rect" id="node2" href="shell_8h.html#ad95c9c45c97cc744ca49a98494bf9465" title="Shell&#45;Function for the U_ActivateBusmon&#45;Service. " alt="" coords="155,5,248,32"/>
<area shape="rect" id="node3" href="shell_8h.html#a3197713442e02b97406567e4a11e193f" title="Enter the &quot;Shell&quot;. " alt="" coords="296,31,381,57"/>
<area shape="rect" id="node4" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="This is the main&#45;Function. " alt="" coords="429,31,480,57"/>
</map>
</div>

</div>
</div>
<a id="a3b8d781bfecf89fac5ce63dabd3be2ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b8d781bfecf89fac5ce63dabd3be2ae">&sect;&nbsp;</a></span>setaddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setaddress </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shell-Function for the U_SetAddress. </p>
<p>Sends the U_SetAddress to the TPUART and prompts for the Address to set. </p><hr/>
<p> | physical address high | | physical address low | </p><hr/>
<p> | 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 | | 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 | </p><hr/>
<p> | a | a | a | a | l | l | l | l | | d | d | d | d | d | d | d | d | </p><hr/>
 
<p>Definition at line <a class="el" href="shell_8c_source.html#l00322">322</a> of file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>

<p>References <a class="el" href="shell_8c_source.html#l00013">command</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00148">receive_string_from_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00011">ret_pressed</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00107">send_string_pgm_to_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00129">send_string_to_usart()</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00029">USART_DATA_PC</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00028">USART_DATA_TP</a>, and <a class="el" href="usart__driver_8c_source.html#l00143">USART_TXBuffer_PutByte()</a>.</p>

<p>Referenced by <a class="el" href="shell_8c_source.html#l00022">enter_shell()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_a3b8d781bfecf89fac5ce63dabd3be2ae_cgraph.jpg" border="0" usemap="#shell_8c_a3b8d781bfecf89fac5ce63dabd3be2ae_cgraph" alt=""/></div>
<map name="shell_8c_a3b8d781bfecf89fac5ce63dabd3be2ae_cgraph" id="shell_8c_a3b8d781bfecf89fac5ce63dabd3be2ae_cgraph">
<area shape="rect" id="node2" href="_u_a_r_t_8c.html#abae42fc5d4a757188ac79c5d6ecf34be" title="This Method reads out the data of the RingBuffer and returns a string. " alt="" coords="140,121,273,163"/>
<area shape="rect" id="node3" href="_u_a_r_t_8c.html#ad7bb1da26c447116e627aef512f5fc84" title="This Method uses the Program Space for e.g. Debug Strings and sends them to the given USART..." alt="" coords="340,5,479,47"/>
<area shape="rect" id="node4" href="usart__driver_8c.html#ac6a0c12350c501c1b8189aca778f5129" title="Put data (5&#45;8 bit character). " alt="" coords="545,187,719,214"/>
<area shape="rect" id="node8" href="_u_a_r_t_8c.html#a190114969cf3d32ab5e83509d7ab1569" title="This Method sends Strings to the given USART. " alt="" coords="338,187,481,214"/>
<area shape="rect" id="node6" href="usart__driver_8c.html#ac65d5461255def6cd49b05a88d5aa411" title="Test if there is data in the receive software buffer. " alt="" coords="335,71,483,112"/>
<area shape="rect" id="node7" href="usart__driver_8c.html#a36cca099e37ec451e52efebe4c60180e" title="Get received data (5&#45;8 bit character). " alt="" coords="321,137,497,163"/>
<area shape="rect" id="node5" href="usart__driver_8c.html#aecbd49900666abf476cf5cce10fb372a" title="Test if there is data in the transmitter software buffer. " alt="" coords="767,187,956,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_a3b8d781bfecf89fac5ce63dabd3be2ae_icgraph.jpg" border="0" usemap="#shell_8c_a3b8d781bfecf89fac5ce63dabd3be2ae_icgraph" alt=""/></div>
<map name="shell_8c_a3b8d781bfecf89fac5ce63dabd3be2ae_icgraph" id="shell_8c_a3b8d781bfecf89fac5ce63dabd3be2ae_icgraph">
<area shape="rect" id="node2" href="shell_8h.html#a3197713442e02b97406567e4a11e193f" title="Enter the &quot;Shell&quot;. " alt="" coords="140,5,225,32"/>
<area shape="rect" id="node3" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="This is the main&#45;Function. " alt="" coords="273,5,324,32"/>
</map>
</div>

</div>
</div>
<a id="acd8340ade32d7f467cf3b625bd06ba31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd8340ade32d7f467cf3b625bd06ba31">&sect;&nbsp;</a></span>shell_help()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shell_help </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shell_8c_source.html#l00507">507</a> of file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>

<p>References <a class="el" href="shell_8c_source.html#l00013">command</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00107">send_string_pgm_to_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00129">send_string_to_usart()</a>, and <a class="el" href="_u_a_r_t_8h_source.html#l00029">USART_DATA_PC</a>.</p>

<p>Referenced by <a class="el" href="shell_8c_source.html#l00022">enter_shell()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_acd8340ade32d7f467cf3b625bd06ba31_cgraph.jpg" border="0" usemap="#shell_8c_acd8340ade32d7f467cf3b625bd06ba31_cgraph" alt=""/></div>
<map name="shell_8c_acd8340ade32d7f467cf3b625bd06ba31_cgraph" id="shell_8c_acd8340ade32d7f467cf3b625bd06ba31_cgraph">
<area shape="rect" id="node2" href="_u_a_r_t_8c.html#ad7bb1da26c447116e627aef512f5fc84" title="This Method uses the Program Space for e.g. Debug Strings and sends them to the given USART..." alt="" coords="135,5,274,47"/>
<area shape="rect" id="node5" href="_u_a_r_t_8c.html#a190114969cf3d32ab5e83509d7ab1569" title="This Method sends Strings to the given USART. " alt="" coords="133,71,276,98"/>
<area shape="rect" id="node3" href="usart__driver_8c.html#ac6a0c12350c501c1b8189aca778f5129" title="Put data (5&#45;8 bit character). " alt="" coords="324,42,497,69"/>
<area shape="rect" id="node4" href="usart__driver_8c.html#aecbd49900666abf476cf5cce10fb372a" title="Test if there is data in the transmitter software buffer. " alt="" coords="545,42,735,69"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_acd8340ade32d7f467cf3b625bd06ba31_icgraph.jpg" border="0" usemap="#shell_8c_acd8340ade32d7f467cf3b625bd06ba31_icgraph" alt=""/></div>
<map name="shell_8c_acd8340ade32d7f467cf3b625bd06ba31_icgraph" id="shell_8c_acd8340ade32d7f467cf3b625bd06ba31_icgraph">
<area shape="rect" id="node2" href="shell_8h.html#a3197713442e02b97406567e4a11e193f" title="Enter the &quot;Shell&quot;. " alt="" coords="133,5,219,32"/>
<area shape="rect" id="node3" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="This is the main&#45;Function. " alt="" coords="267,5,317,32"/>
</map>
</div>

</div>
</div>
<a id="a7e7bbbb940671ab75e317fb9e82e956d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e7bbbb940671ab75e317fb9e82e956d">&sect;&nbsp;</a></span>state_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_request </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shell-Function for the U_state.request-Service. </p>
<p>Sends the U_state.request to the TPUART and prints the Output as bits to the PC </p>

<p>Definition at line <a class="el" href="shell_8c_source.html#l00131">131</a> of file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>

<p>References <a class="el" href="shell_8c_source.html#l00013">command</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00148">receive_string_from_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00107">send_string_pgm_to_usart()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00129">send_string_to_usart()</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00029">USART_DATA_PC</a>, <a class="el" href="_u_a_r_t_8h_source.html#l00028">USART_DATA_TP</a>, <a class="el" href="usart__driver_8h_source.html#l00067">USART_RX_BUFFER_SIZE</a>, and <a class="el" href="usart__driver_8c_source.html#l00143">USART_TXBuffer_PutByte()</a>.</p>

<p>Referenced by <a class="el" href="shell_8c_source.html#l00022">enter_shell()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_a7e7bbbb940671ab75e317fb9e82e956d_cgraph.jpg" border="0" usemap="#shell_8c_a7e7bbbb940671ab75e317fb9e82e956d_cgraph" alt=""/></div>
<map name="shell_8c_a7e7bbbb940671ab75e317fb9e82e956d_cgraph" id="shell_8c_a7e7bbbb940671ab75e317fb9e82e956d_cgraph">
<area shape="rect" id="node2" href="_u_a_r_t_8c.html#abae42fc5d4a757188ac79c5d6ecf34be" title="This Method reads out the data of the RingBuffer and returns a string. " alt="" coords="155,121,288,163"/>
<area shape="rect" id="node3" href="_u_a_r_t_8c.html#ad7bb1da26c447116e627aef512f5fc84" title="This Method uses the Program Space for e.g. Debug Strings and sends them to the given USART..." alt="" coords="355,5,493,47"/>
<area shape="rect" id="node4" href="usart__driver_8c.html#ac6a0c12350c501c1b8189aca778f5129" title="Put data (5&#45;8 bit character). " alt="" coords="560,187,733,214"/>
<area shape="rect" id="node8" href="_u_a_r_t_8c.html#a190114969cf3d32ab5e83509d7ab1569" title="This Method sends Strings to the given USART. " alt="" coords="353,187,495,214"/>
<area shape="rect" id="node6" href="usart__driver_8c.html#ac65d5461255def6cd49b05a88d5aa411" title="Test if there is data in the receive software buffer. " alt="" coords="350,71,498,112"/>
<area shape="rect" id="node7" href="usart__driver_8c.html#a36cca099e37ec451e52efebe4c60180e" title="Get received data (5&#45;8 bit character). " alt="" coords="336,137,512,163"/>
<area shape="rect" id="node5" href="usart__driver_8c.html#aecbd49900666abf476cf5cce10fb372a" title="Test if there is data in the transmitter software buffer. " alt="" coords="781,187,971,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shell_8c_a7e7bbbb940671ab75e317fb9e82e956d_icgraph.jpg" border="0" usemap="#shell_8c_a7e7bbbb940671ab75e317fb9e82e956d_icgraph" alt=""/></div>
<map name="shell_8c_a7e7bbbb940671ab75e317fb9e82e956d_icgraph" id="shell_8c_a7e7bbbb940671ab75e317fb9e82e956d_icgraph">
<area shape="rect" id="node2" href="shell_8h.html#a3197713442e02b97406567e4a11e193f" title="Enter the &quot;Shell&quot;. " alt="" coords="155,5,240,32"/>
<area shape="rect" id="node3" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="This is the main&#45;Function. " alt="" coords="288,5,339,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a68426a3f72e0fa2063f5140143c60965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68426a3f72e0fa2063f5140143c60965">&sect;&nbsp;</a></span>command</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char command[33]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="shell_8c_source.html#l00013">13</a> of file <a class="el" href="shell_8c_source.html">shell.c</a>.</p>

<p>Referenced by <a class="el" href="shell_8c_source.html#l00454">ackInfo()</a>, <a class="el" href="shell_8c_source.html#l00175">act_busmon()</a>, <a class="el" href="shell_8c_source.html#l00268">act_busymode()</a>, <a class="el" href="shell_8c_source.html#l00022">enter_shell()</a>, <a class="el" href="shell_8c_source.html#l00224">prod_request()</a>, <a class="el" href="shell_8c_source.html#l00292">res_busymode()</a>, <a class="el" href="shell_8c_source.html#l00089">reset_request()</a>, <a class="el" href="shell_8c_source.html#l00322">setaddress()</a>, <a class="el" href="shell_8c_source.html#l00507">shell_help()</a>, and <a class="el" href="shell_8c_source.html#l00131">state_request()</a>.</p>

</div>
</div>
<a id="a37fd7702e47867237a1617ae4b4fab85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37fd7702e47867237a1617ae4b4fab85">&sect;&nbsp;</a></span>ret_pressed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int volatile ret_pressed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_u_a_r_t_8c_source.html#l00011">11</a> of file <a class="el" href="_u_a_r_t_8c_source.html">UART.c</a>.</p>

<p>Referenced by <a class="el" href="shell_8c_source.html#l00454">ackInfo()</a>, <a class="el" href="shell_8c_source.html#l00022">enter_shell()</a>, <a class="el" href="_u_a_r_t_8c_source.html#l00254">ISR()</a>, and <a class="el" href="shell_8c_source.html#l00322">setaddress()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ce1c3b0c01b2b6dae102cb7282b86f5b.html">TPUART</a></li><li class="navelem"><a class="el" href="shell_8c.html">shell.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
